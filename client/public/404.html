<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gayle Dumbrell Counselling</title>
    <script>
      // Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      var l = window.location;
      
      // Determine base path based on hostname (for routing only)
      var basePath = '/';
      if (l.hostname === 'heaps-smart.github.io') {
        basePath = '/gayle-dumbrell-counselling';
      }
      
      // Handle routing
      if (basePath !== '/' && l.pathname.startsWith(basePath)) {
        // Already on base path, extract route
        var route = l.pathname.slice(basePath.length) || '/';
        l.replace(
          l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
          basePath + '/?/' + route.replace(/&/g, '~and~') +
          (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
          l.hash
        );
      } else if (basePath === '/') {
        // Custom domain: route at root
        var route = l.pathname === '/' ? '/' : l.pathname;
        // Remove leading slash to avoid double slashes
        var cleanRoute = route.startsWith('/') ? route.slice(1) : route;
        l.replace(
          l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
          '/?/' + cleanRoute.replace(/&/g, '~and~') +
          (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
          l.hash
        );
      } else {
        // GitHub Pages: redirect to base path with route
        var route = l.pathname === '/' ? '/' : l.pathname;
        l.replace(
          l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
          basePath + '/?/' + route.replace(/&/g, '~and~') +
          (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
          l.hash
        );
      }
    </script>
  </head>
  <body></body>
</html>

