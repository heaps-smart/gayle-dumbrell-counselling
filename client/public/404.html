<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gayle Dumbrell Counselling</title>
    <script>
      // Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      var l = window.location;
      
      // Determine base path based on hostname
      var basePath = '/';
      if (l.hostname === 'heaps-smart.github.io') {
        basePath = '/gayle-dumbrell-counselling';
      }
      // For custom domain (gayledumbrellcounselling.com.au), basePath is '/'
      
      // Check if we're already on the base path
      if (basePath !== '/' && l.pathname.startsWith(basePath)) {
        // Extract the route after the base path
        var route = l.pathname.slice(basePath.length) || '/';
        l.replace(
          l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
          basePath + '/?/' + route.replace(/&/g, '~and~') +
          (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
          l.hash
        );
      } else if (basePath === '/') {
        // For custom domain, use standard SPA redirect without base path
        var route = l.pathname === '/' ? '/' : l.pathname;
        l.replace(
          l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
          '/?/' + route.replace(/&/g, '~and~') +
          (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
          l.hash
        );
      } else {
        // If not on base path, redirect to base path with route
        var route = l.pathname === '/' ? '/' : l.pathname;
        l.replace(
          l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
          basePath + '/?/' + route.replace(/&/g, '~and~') +
          (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
          l.hash
        );
      }
    </script>
  </head>
  <body></body>
</html>

